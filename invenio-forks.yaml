packages:
  - name: invenio-administration
    oarepo: 12
    features:
      - name: multiple-ui-changes
        base: v2.2.4
    frozen:
      - packages:
          - pytest-invenio<3.0.0

  - name: invenio-app-rdm
    oarepo: 12
    entrypoints:
      - invenio-version: "<13.0.0"
        remove: "*"
        keep:
          - "invenio_assets.webpack:invenio_app_rdm_theme"
    features:
      - name: removed-webpack-aliases
        base: v12.0.0

  - name: invenio-banners
    oarepo: 12
    features:
      - name: message-htmleditor
        base: v3.1.1
        invenio-version: "<3.2.0"

  - name: invenio-rdm-records
    oarepo: 12
    entrypoints:
      - invenio-version: "<11.0.0"
        remove: "*"
        keep:
          - "invenio_jsonschemas.schemas:invenio_rdm_records"
          - "invenio_assets.webpack:invenio_rdm_records"
    frozen:
      - invenio-version: "<11.0.0"
        packages:
          - pyjwt==2.9.0
          - babel-edtf==1.1.4
          - blinker==1.8.2
          - edtf==4.0.1
          - invenio-oaiserver==2.2.1
          - marshmallow-utils==0.9.1

  - name: invenio-communities
    oarepo: 12
    features:
      - name: disable-communities-ui
        base: v13.0.6
      - name: enable-email-invitations
        base: v13.0.6
      - name: administration-in-tests
        base: v13.0.9

  - name: invenio-drafts-resources
    oarepo: 12
    features:
      - name: kwargs
        base: v3.2.0

  - name: invenio-records-resources
    oarepo: 12
    features:
      - name: kwargs
        base: v5.10.0

  - name: invenio-requests
    oarepo: 12
    features:
      - name: kwargs
        base: v4.1.1

  - name: invenio-oauthclient
    oarepo: 12
    features:
      - name: refresh-token
        base: v4.0.0
        invenio-version: "<4.0.2"
      - name: refresh-token-from-v4.0.2
        base: v4.0.2
        invenio-version: ">=4.0.2"
